<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DB Handson1</title>
</head>
<body>
    <h2>Query the collection ""employee"" and list all the documents</h2>
    <p>
        Human_Resource> db.employee.find()
    </p>


    <h2>Query the collection ""employee"" and list the employees who are having salary more than 30000</h2>
    <p>
        Human_Resource> db.employee.find({"salary":{$gt:30000}})
    </p>

    <h2>Query the collection ""employee"" and list the employees who are having experience more than 2 years.</h2>
    <p>
        db.employee.find({ "overallExp": { $gt: 2 } })

    </p>

    <h2>Query the collection ""employee"" and list the employees who are graduated after 2015 and having experience more than 1 year </h2>
    <p>
        db.employee.find({
            "yearGrad": { $gt: 2015 },
            "overallExp": { $gt: 1 }
          })
          
    </p>


    <h2>Query the collection ""employee"" and update the salary of the employee whose salary is greater than 70000 to 65000</h2>
    <p>
        db.employee.updateMany(
            { "salary": { $gt: 70000 } },
            { $set: { "salary": 65000 } }
            )

    </p>

    <h2>Delete all the documents from ""employee"" where last company is Y"</h2>
    <p>
        db.employee.deleteMany({ "lastCompany": "Y" })

    </p>


    <p>
        <b>Cmd</b>

        Microsoft Windows [Version 10.0.22621.2506]
(c) Microsoft Corporation. All rights reserved.

C:\Users\bhanu>mongosh
Current Mongosh Log ID: 6545237802fddfcf22213be1
Connecting to:          mongodb://127.0.0.1:27017/?directConnection=true&serverSelectionTimeoutMS=2000&appName=mongosh+2.0.2
Using MongoDB:          7.0.2
Using Mongosh:          2.0.2

For mongosh info see: https://docs.mongodb.com/mongodb-shell/

------
   The server generated these startup warnings when booting
   2023-11-03T18:45:27.190+05:30: Access control is not enabled for the database. Read and write access to data and configuration is unrestricted
------

test> show dbs
Human_Resource   40.00 KiB
admin            40.00 KiB
config           72.00 KiB
local            72.00 KiB
prjt-1           56.00 KiB
prjt-2          112.00 KiB
test> use Human_Resource
switched to db Human_Resource
Human_Resource> db.employee.find()
[
  {
    _id: ObjectId("6545233c22f5e06af73f4235"),
    firstName: 'John',
    lastName: 'Doe',
    salary: 25000,
    department: 'HR',
    lastCompany: 'X',
    lastSalary: 10000,
    overallExp: 2,
    contactInfo: 1234567890,
    yearGrad: 2016,
    gradStream: 'CSE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f4236"),
    firstName: 'Rohan',
    lastName: 'Jame',
    salary: 30000,
    department: 'Technical',
    lastCompany: 'Y',
    lastSalary: 15000,
    overallExp: 1,
    contactInfo: 1234567860,
    yearGrad: 2015,
    gradStream: 'CSE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f4237"),
    firstName: 'Jame',
    lastName: 'Doe',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 20000,
    overallExp: 1,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'ECE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f4238"),
    firstName: 'Sao',
    lastName: 'Avika',
    salary: 30000,
    department: 'Sales',
    lastCompany: 'Y',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 1234567860,
    yearGrad: 2015,
    gradStream: 'CSE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f4239"),
    firstName: 'Jame',
    lastName: 'roh',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'EEE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f423a"),
    firstName: 'Rohan',
    lastName: 'Jame',
    salary: 30000,
    department: 'Technical',
    lastCompany: 'Y',
    lastSalary: 15000,
    overallExp: 1,
    contactInfo: 1234567860,
    yearGrad: 2015,
    gradStream: 'CSE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f423b"),
    firstName: 'Jame',
    lastName: 'Doe',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'EEE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f423c"),
    firstName: 'Rohan',
    lastName: 'Jame',
    salary: 30000,
    department: 'Technical',
    lastCompany: 'Y',
    lastSalary: 15000,
    overallExp: 1,
    contactInfo: 1234567860,
    yearGrad: 2015,
    gradStream: 'CSE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f423d"),
    firstName: 'Jame',
    lastName: 'Doe',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'EEE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f423e"),
    firstName: 'Rohan',
    lastName: 'Jame',
    salary: 30000,
    department: 'Technical',
    lastCompany: 'Y',
    lastSalary: 15000,
    overallExp: 1,
    contactInfo: 1234567860,
    yearGrad: 2015,
    gradStream: 'CSE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f423f"),
    firstName: 'Jame',
    lastName: 'Doe',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'EEE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f4240"),
    firstName: 'Sao',
    lastName: 'Avika',
    salary: 30000,
    department: 'Sales',
    lastCompany: 'Y',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 1234567860,
    yearGrad: 2015,
    gradStream: 'CSE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f4241"),
    firstName: 'Jame',
    lastName: 'Doe',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'EEE'
  }
]
Human_Resource> db.find({"salary":{$gt:30000}})
TypeError: db.find is not a function
Human_Resource> db.employee.find({"salary":{$gt:30000}})
[
  {
    _id: ObjectId("6545233c22f5e06af73f4237"),
    firstName: 'Jame',
    lastName: 'Doe',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 20000,
    overallExp: 1,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'ECE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f4239"),
    firstName: 'Jame',
    lastName: 'roh',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'EEE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f423b"),
    firstName: 'Jame',
    lastName: 'Doe',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'EEE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f423d"),
    firstName: 'Jame',
    lastName: 'Doe',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'EEE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f423f"),
    firstName: 'Jame',
    lastName: 'Doe',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'EEE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f4241"),
    firstName: 'Jame',
    lastName: 'Doe',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'EEE'
  }
]
Human_Resource> db.employee.find({"overallExp":{$gt:2}})

Human_Resource> db.employee.find({"overallExp":{$gt:2}})

Human_Resource> db.employee.find({ "overallExp": { $gt$gt: 2 } })

Human_Resource> db.employee.find({
...   "yearGrad": { $gt: 2015 },
...   "overallExp": { $gt: 1 }
... })
[
  {
    _id: ObjectId("6545233c22f5e06af73f4235"),
    firstName: 'John',
    lastName: 'Doe',
    salary: 25000,
    department: 'HR',
    lastCompany: 'X',
    lastSalary: 10000,
    overallExp: 2,
    contactInfo: 1234567890,
    yearGrad: 2016,
    gradStream: 'CSE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f4239"),
    firstName: 'Jame',
    lastName: 'roh',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'EEE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f423b"),
    firstName: 'Jame',
    lastName: 'Doe',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'EEE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f423d"),
    firstName: 'Jame',
    lastName: 'Doe',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'EEE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f423f"),
    firstName: 'Jame',
    lastName: 'Doe',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'EEE'
  },
  {
    _id: ObjectId("6545233c22f5e06af73f4241"),
    firstName: 'Jame',
    lastName: 'Doe',
    salary: 35000,
    department: 'Accounts',
    lastCompany: 'Z',
    lastSalary: 15000,
    overallExp: 2,
    contactInfo: 123567890,
    yearGrad: 2019,
    gradStream: 'EEE'
  }
]
Human_Resource> db.employee.updateMany(
...   { "salary": { $gt: 70000 } },
...   { $set: { "salary": 65000 } }
... )
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 0,
  modifiedCount: 0,
  upsertedCount: 0
}
Human_Resource> db.employee.deleteMany({ "lastCompany": "Y" })
{ acknowledged: true, deletedCount: 6 }
Human_Resource>
    </p>
</body>
</html>